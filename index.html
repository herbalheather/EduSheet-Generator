<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-6 Worksheet Generator | Mama Said This - Epic Text-Based Learning Quests! üöÄ</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root { 
            --primary: #e85d75; 
            --secondary: #6366f1; 
            --accent: #fbbf24; 
            --light: #f8fafc; 
            --dark: #1e293b; 
            --success: #10b981;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Inter', sans-serif; 
            color: var(--dark); 
            background: var(--light); 
            padding: 1rem; 
            max-width: 1200px; 
            margin: 0 auto; 
            line-height: 1.6;
        }
        @media (max-width: 768px) { body { padding: 0.5rem; } }
        .nav { display: flex; gap: 1rem; margin-bottom: 2rem; }
        .back-btn { 
            padding: 0.6rem 1.2rem; 
            background: var(--secondary); 
            color: white; 
            text-decoration: none; 
            border-radius: 25px; 
            font-weight: 600; 
            transition: all 0.3s; 
            display: inline-flex; align-items: center; gap: 0.5rem;
        }
        .back-btn:hover { background: #4f46e5; transform: scale(1.05); }
        h1 { 
            font-family: 'Poppins', sans-serif; 
            font-size: 2.5rem; 
            background: var(--gradient); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            text-align: center; 
            margin-bottom: 1rem; 
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow { from { text-shadow: 0 0 5px rgba(102, 126, 234, 0.5); } to { text-shadow: 0 0 20px rgba(102, 126, 234, 0.8); } }
        .subtitle { text-align: center; color: #64748b; font-size: 1.1rem; margin-bottom: 2rem; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem; }
        @media (max-width: 768px) { .form-grid { grid-template-columns: 1fr; } }
        .form-group { background: white; padding: 1.5rem; border-radius: 16px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        label { display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--primary); }
        select { width: 100%; padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 1rem; transition: border-color 0.3s; background: white; }
        select:focus { border-color: var(--primary); outline: none; }
        .theme-option { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; border-radius: 8px; cursor: pointer; transition: background 0.3s; margin-bottom: 0.5rem; }
        .theme-option:hover { background: #f0f9ff; }
        .theme-option.selected { background: #dbeafe; border: 2px solid var(--secondary); }
        .theme-emoji { font-size: 1.5rem; }
        .type-desc, .subject-desc { font-size: 0.9rem; color: #94a3b8; margin-top: 0.25rem; display: block; }
        #preview { 
            background: white; 
            padding: 2rem; 
            border-radius: 16px; 
            box-shadow: 0 8px 25px rgba(0,0,0,0.1); 
            margin-bottom: 2rem; 
            min-height: 400px; 
            display: flex; align-items: center; justify-content: center; 
            flex-direction: column; 
            text-align: center;
        }
        #preview-content { opacity: 0; transition: opacity 0.3s; width: 100%; }
        #preview-content.show { opacity: 1; }
        .btn { 
            padding: 1rem 2rem; 
            background: var(--primary); 
            color: white; 
            border: none; 
            border-radius: 50px; 
            font-weight: 700; 
            cursor: pointer; 
            transition: all 0.3s; 
            font-size: 1.1rem;
            display: block; margin: 1rem auto;
        }
        .btn:hover:not(:disabled) { background: #d14361; transform: translateY(-2px); box-shadow: 0 10px 20px rgba(232,93,117,0.3); }
        .btn:disabled { background: #9ca3af; cursor: not-allowed; transform: none; }
        .btn-success { background: var(--success); }
        .btn-success:hover { background: #059669; }
        .btn-share { background: var(--secondary); margin-left: 1rem; }
        .btn-share:hover { background: #4f46e5; }
        .tips { background: #fef3c7; padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; }
        .tips h3 { color: #92400e; margin-bottom: 1rem; }
        .tips ul { list-style: none; }
        .tips li { margin-bottom: 0.5rem; padding-left: 1rem; position: relative; }
        .tips li::before { content: '‚ú®'; position: absolute; left: 0; }
        .required { color: #ef4444; font-weight: bold; }
        .nav-tabs { display: flex; justify-content: center; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; }
        .nav-tab { padding: 0.5rem 1rem; background: #e5e7eb; border-radius: 25px; text-decoration: none; color: var(--dark); font-weight: 600; transition: all 0.3s; }
        .nav-tab:hover, .nav-tab.active { background: var(--secondary); color: white; }
        .hidden { display: none; }
        #assessment, #library { padding: 2rem; background: white; border-radius: 16px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); margin-top: 2rem; }
        .quiz-question { margin-bottom: 1.5rem; }
        .quiz-options { display: flex; flex-direction: column; gap: 0.5rem; }
        .quiz-option { padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: all 0.3s; }
        .quiz-option:hover { border-color: var(--primary); }
        .quiz-option.selected { background: #dbeafe; border-color: var(--secondary); }
        .resource-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; }
        .resource-card { background: #f8fafc; padding: 1rem; border-radius: 12px; border-left: 4px solid var(--accent); }
        .resource-card h4 { color: var(--primary); margin-bottom: 0.5rem; }
        .resource-video { width: 100%; height: 200px; border-radius: 8px; margin: 0.5rem 0; }
        .download-link { color: var(--success); text-decoration: none; font-weight: 600; display: block; margin-top: 0.5rem; }
        .download-link:hover { text-decoration: underline; }
        .khan-link { color: var(--secondary); font-weight: 600; display: block; margin-top: 0.5rem; }
        .khan-link:hover { text-decoration: underline; }
        .confetti { pointer-events: none; }
        .save-template { background: var(--accent); color: var(--dark); margin-left: 1rem; }
        .save-template:hover { background: #f59e0b; }
        .problem { margin-bottom: 1rem; font-size: 1.2rem; text-align: left; }
        .wordsearch-grid { font-family: monospace; background: #f3f4f6; padding: 1rem; border-radius: 8px; margin: 1rem 0; white-space: pre-line; text-align: center; }
        .quiz-options-preview { margin-top: 1rem; }
        .quiz-option-preview { padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 6px; margin: 0.25rem 0; }
        .optgroup { font-weight: 600; color: var(--secondary); }
    </style>
</head>
<body>
    <div class="nav">
        <a href="https://edusheet-chooser.pages.dev/" class="back-btn">‚Üê Back to Chooser</a>
        <a href="https://mamasaid-this.pages.dev/" class="back-btn">üè† Home</a>
    </div>
    
    <div class="nav-tabs">
        <a href="#" class="nav-tab active" data-section="generator">Worksheet Generator</a>
        <a href="#" class="nav-tab" data-section="assessment">Learning Style Quiz ‚ú®</a>
        <a href="#" class="nav-tab" data-section="library">Resource Library üìö</a>
    </div>
    
    <!-- Main Generator -->
    <section id="generator">
        <h1>Create Epic K-6 Worksheets! üöÄ</h1>
        <p class="subtitle">Text-powered quests: Math drills, word hunts, quizzes‚Äîblended with themes for non-stop fun. Faster gen, smarter previews, zero fluff!</p>
        
        <div class="form-grid">
            <div class="form-group">
                <label for="grade">Grade Level <span class="required">*</span></label>
                <select id="grade" onchange="updatePreview()">
                    <option value="">Select Grade</option>
                    <option value="k">K (Little Legends)</option>
                    <option value="1">Grade 1</option>
                    <option value="2">Grade 2</option>
                    <option value="3">Grade 3</option>
                    <option value="4">Grade 4</option>
                    <option value="5">Grade 5</option>
                    <option value="6">Grade 6</option>
                </select>
                
                <label for="subject">Subject <span class="required">*</span></label>
                <select id="subject" onchange="updatePreview()">
                    <option value="">Choose Subject</option>
                    <optgroup label="Core Skills" class="optgroup">
                        <option value="math" data-desc="Numbers, operations, geometry, & problem solving">Mathematics</option>
                        <option value="science" data-desc="Nature, experiments, animals, & discovery">Science</option>
                        <option value="reading" data-desc="Stories, vocabulary, & understanding">Reading Comprehension</option>
                    </optgroup>
                </select>
                <div id="subject-desc" class="subject-desc"></div>
                
                <label for="type">Worksheet Type <span class="required">*</span></label>
                <select id="type" onchange="updatePreview()">
                    <option value="">Pick Type</option>
                    <optgroup label="Puzzle Power">
                        <option value="wordsearch" data-desc="Find hidden words related to the subject | 2-6 | 10-25 min">Word Search</option>
                    </optgroup>
                    <optgroup label="Brain Teasers">
                        <option value="quiz" data-desc="Multiple choice and short answer questions | 1-6 | 20-40 min">Question Quiz</option>
                        <option value="math" data-desc="Grade-appropriate math problems and exercises | K-6 | 20-40 min">Math Practice</option>
                    </optgroup>
                </select>
                <div id="type-desc" class="type-desc"></div>
            </div>
            
            <div class="form-group">
                <label>Theme <span class="required">*</span></label>
                <div id="themes" style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <div class="theme-option" onclick="selectTheme('space', this)"><span class="theme-emoji">üöÄ</span> Space Adventure<br><small>Rockets, planets, astronauts, and cosmic exploration</small></div>
                    <div class="theme-option" onclick="selectTheme('animals', this)"><span class="theme-emoji">ü¶Å</span> Animal Kingdom<br><small>Wildlife, pets, jungle animals, and nature</small></div>
                    <div class="theme-option" onclick="selectTheme('undersea', this)"><span class="theme-emoji">üêã</span> Under the Sea<br><small>Sea creatures, underwater world, and marine life</small></div>
                    <div class="theme-option" onclick="selectTheme('dinos', this)"><span class="theme-emoji">ü¶ï</span> Dinosaur World<br><small>Prehistoric creatures, fossils, and ancient times</small></div>
                    <div class="theme-option" onclick="selectTheme('nature', this)"><span class="theme-emoji">üå≥</span> Nature Explorer<br><small>Plants, trees, seasons, and outdoor adventures</small></div>
                    <div class="theme-option" onclick="selectTheme('transport', this)"><span class="theme-emoji">üöó</span> Transportation<br><small>Cars, trains, planes, and vehicles that move</small></div>
                </div>
                
                <label for="difficulty">Difficulty Level <span class="required">*</span></label>
                <select id="difficulty" onchange="updatePreview()">
                    <option value="">Select Level</option>
                    <option value="easy">Easy<br><small>Grade-appropriate level with basic concepts</small></option>
                    <option value="medium">Medium<br><small>Slightly advanced with moderate challenges</small></option>
                    <option value="pro">Pro<br><small>Above grade level with complex problems</small></option>
                </select>
            </div>
        </div>
        
        <div id="preview">
            <h2>Live Preview</h2>
            <p>Update fields to see your worksheet take shape‚Äîinstant text magic!</p>
            <div id="preview-content"></div>
        </div>
        
        <button class="btn" onclick="generateWorksheet()" id="genBtn" disabled>üöÄ Smart Generate Worksheet!</button>
        <div id="actionBtns" class="hidden" style="text-align: center;">
            <button class="btn btn-success" onclick="downloadPDF()">üíæ Download PDF</button>
            <button class="btn save-template" onclick="saveTemplate()">üìÅ Save Template</button>
        </div>
        
        <div class="tips">
            <h3>Smart Tips ‚ú®</h3>
            <ul>
                <li>Word searches adapt to grade reading level‚Äîperfect for animal vocab hunts!</li>
                <li>Quizzes mix subjects & themes for space science riddles that stick.</li>
                <li>Math problems scale with difficulty‚ÄîPro mode for transport velocity challenges.</li>
                <li>Preview updates in a flash‚Äîtweak & regenerate for endless combos!</li>
            </ul>
        </div>
        
        <div style="text-align: center; color: #ef4444; font-weight: bold;">
            <p id="requiredMsg">Fill required fields to unlock generation! üéâ</p>
        </div>
    </section>
    
    <!-- Learning Style Assessment -->
    <section id="assessment" class="hidden">
        <h1>Discover Your Kid's Learning Superpowers! ü¶∏‚Äç‚ôÄÔ∏è</h1>
        <p class="subtitle">Quick 5-question quiz to match styles‚ÄîVisual, Auditory, Kinesthetic? Tailor worksheets to *their* vibe!</p>
        
        <form id="quizForm">
            <div class="quiz-question">
                <p>1. When learning new info, does your kid...</p>
                <div class="quiz-options">
                    <div class="quiz-option" data-answer="0" onclick="selectOption(this)">Draw pictures or watch demos? (Visual)</div>
                    <div class="quiz-option" data-answer="1" onclick="selectOption(this)">Talk it out or listen to explanations? (Auditory)</div>
                    <div class="quiz-option" data-answer="2" onclick="selectOption(this)">Build models or act it out? (Kinesthetic)</div>
                </div>
            </div>
            <div class="quiz-question">
                <p>2. For remembering facts...</p>
                <div class="quiz-options">
                    <div class="quiz-option" data-answer="0" onclick="selectOption(this)">Make charts or diagrams? (Visual)</div>
                    <div class="quiz-option" data-answer="1" onclick="selectOption(this)">Repeat aloud or use songs? (Auditory)</div>
                    <div class="quiz-option" data-answer="2" onclick="selectOption(this)">Walk while reviewing or use gestures? (Kinesthetic)</div>
                </div>
            </div>
            <div class="quiz-question">
                <p>3. In group work...</p>
                <div class="quiz-options">
                    <div class="quiz-option" data-answer="0" onclick="selectOption(this)">Watch others or read guides? (Visual)</div>
                    <div class="quiz-option" data-answer="1" onclick="selectOption(this)">Discuss ideas verbally? (Auditory)</div>
                    <div class="quiz-option" data-answer="2" onclick="selectOption(this)">Hands-on building or role-play? (Kinesthetic)</div>
                </div>
            </div>
            <div class="quiz-question">
                <p>4. Best way to explain...</p>
                <div class="quiz-options">
                    <div class="quiz-option" data-answer="0" onclick="selectOption(this)">Sketch or show examples? (Visual)</div>
                    <div class="quiz-option" data-answer="1" onclick="selectOption(this)">Describe in words or stories? (Auditory)</div>
                    <div class="quiz-option" data-answer="2" onclick="selectOption(this)">Demonstrate physically? (Kinesthetic)</div>
                </div>
            </div>
            <div class="quiz-question">
                <p>5. For fun learning...</p>
                <div class="quiz-options">
                    <div class="quiz-option" data-answer="0" onclick="selectOption(this)">Watch videos or read books? (Visual)</div>
                    <div class="quiz-option" data-answer="1" onclick="selectOption(this)">Listen to podcasts or music? (Auditory)</div>
                    <div class="quiz-option" data-answer="2" onclick="selectOption(this)">Play games or experiment? (Kinesthetic)</div>
                </div>
            </div>
            <button type="submit" class="btn">Get Results! üåü</button>
        </form>
        <div id="quizResults" class="hidden" style="margin-top: 2rem; padding: 1.5rem; background: #f0fdf4; border-radius: 12px; border-left: 4px solid var(--success);">
            <h2>Your Learning Style: <span id="style"></span> üéØ</h2>
            <p id="recs"></p>
            <p>Pro Tip: Visual? Amp space themes. Kinesthetic? Go for interactive quizzes!</p>
        </div>
    </section>
    
    <!-- Resource Library -->
    <section id="library" class="hidden">
        <h1>Resource Library: Fuel Your Quests! üìö</h1>
        <p class="subtitle">Curated YouTube gems & Khan Academy mastery‚Äîdive into themes with pro educators. Search, watch, inspire!</p>
        
        <input type="text" id="searchRes" placeholder="Search (e.g., space videos)..." onkeyup="filterResources()" style="width: 100%; padding: 0.8rem; margin-bottom: 1rem; border: 2px solid #e2e8f0; border-radius: 10px;">
        
        <div class="resource-grid" id="resGrid">
            <div class="resource-card" data-tags="space">
                <h4>üöÄ Space Adventure Videos</h4>
                <p>Journey into stars‚Äîperfect for cosmic quizzes!</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/8Sl8m5-Tutk" title="Journey Into Space | Nat Geo Kids" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=8Sl8m5-Tutk" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science/middle-school-earth-and-space-science/x87d03b443efbea0a:earth-in-space/x87d03b443efbea0a:earths-place-in-the-universe/v/introduction-to-middle-school-earth-and-space-science" class="khan-link" target="_blank">Khan: Earth in Space Intro</a><grok-card data-id="6381ad" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="space">
                <h4>Solar System Explorer</h4>
                <p>Planets & space facts for math tie-ins.</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/iWNuW0_ycxc" title="Solar System for Kids" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=iWNuW0_ycxc" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science/middle-school-earth-and-space-science" class="khan-link" target="_blank">Khan: Middle School Space Science</a><grok-card data-id="b10d02" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="animals">
                <h4>ü¶Å Animal Kingdom Deep Dive</h4>
                <p>Wildlife wonders‚Äîgreat for reading quests.</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/dXfJbp4_M1Q" title="Animal Kingdom | Science for Kids" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=dXfJbp4_M1Q" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science/ka-science-grade-6/x12c13c153ec99496:diversity-in-the-living-world" class="khan-link" target="_blank">Khan: Diversity in Living World (Animals)</a><grok-card data-id="f72bbf" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="animals">
                <h4>Everything About Animals</h4>
                <p>Reptiles to mammals‚Äîquiz fuel!</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/zzQlMfU0o9E" title="EVERYTHING YOU NEED TO KNOW about THE ANIMAL KINGDOM" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=zzQlMfU0o9E" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science/ka-science-grade-6" class="khan-link" target="_blank">Khan: Grade 6 Science (Animal Units)</a><grok-card data-id="985800" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="undersea">
                <h4>üêã Under the Sea Adventures</h4>
                <p>Ocean life stories‚Äîword search inspo.</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/x0zrJWHXFx8" title="Under the Sea | Discover ocean animals" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=x0zrJWHXFx8" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science/ka-science-grade-6/x12c13c153ec99496:diversity-in-the-living-world" class="khan-link" target="_blank">Khan: Aquatic Habitats & Adaptations</a><grok-card data-id="eb2df8" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="undersea">
                <h4>Deep Ocean Zones</h4>
                <p>From sunlight to abyss‚Äîscience gold.</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/QNVZL6wf5Hk" title="Under the Ocean. All about the Ocean for Kids" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=QNVZL6wf5Hk" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science/class-6-science" class="khan-link" target="_blank">Khan: Class 6 Ocean Resources</a><grok-card data-id="6ef72d" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="dinos">
                <h4>ü¶ï Play & Learn Dinosaurs</h4>
                <p>90-min dino fun‚Äîquiz & math tie-ins.</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/tgnMgRZfGNs" title="[TV for Kids] Play & Learn with Dinosaurs" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=tgnMgRZfGNs" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science/middle-school-earth-and-space-science/x87d03b443efbea0a:earth-in-space/x87d03b443efbea0a:earths-place-in-the-universe/v/introduction-to-middle-school-earth-and-space-science" class="khan-link" target="_blank">Khan: Dinosaurs in Earth's History</a><grok-card data-id="2ac286" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="dinos">
                <h4>Dinosaur World Songs</h4>
                <p>Sing-along facts‚Äîreading rhythm!</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/ze3L6ymQ0H8" title="Dinosaur World | Kids Songs" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=ze3L6ymQ0H8" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science/6th-grade-science-matatag" class="khan-link" target="_blank">Khan: 6th Grade Earth History (Fossils)</a><grok-card data-id="04ac7d" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="nature">
                <h4>üå≥ Nature for Kids</h4>
                <p>Forests & rivers vocab‚Äîexploration quests.</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/oTjySm7mgZE" title="Nature for Kids - Kindergarten learning video" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=oTjySm7mgZE" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science/ka-science-grade-6" class="khan-link" target="_blank">Khan: Grade 6 Natural Resources (Forests/Oceans)</a><grok-card data-id="d83d8f" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="nature">
                <h4>Nature's Explorers Playlist</h4>
                <p>Backyard to forests‚Äîhands-on inspo.</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/videoseries?list=PLi7Jwi_ktEQOYOwbgemeNpnUR3kG_qPVS" title="Nature's Explorers - Videos for Kids!" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/playlist?list=PLi7Jwi_ktEQOYOwbgemeNpnUR3kG_qPVS" class="download-link" target="_blank">Watch Playlist</a>
                <a href="https://www.khanacademy.org/science/class-6-science" class="khan-link" target="_blank">Khan: Class 6 Nature Treasures</a><grok-card data-id="7b2695" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="transport">
                <h4>üöó Means of Transport</h4>
                <p>Land/water/air‚Äîvehicle vocab blast.</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/biX7NNxw_w8" title="Means Of Transport For Children" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=biX7NNxw_w8" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science" class="khan-link" target="_blank">Khan: Physics of Motion (Vehicles)</a><grok-card data-id="a85751" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="transport">
                <h4>Transportation Vocabulary</h4>
                <p>Trucks to planes‚Äîmath speed ties.</p>
                <iframe class="resource-video" src="https://www.youtube.com/embed/lcdWNmvvyew" title="Transportation - Kids vocabulary" frameborder="0" allowfullscreen></iframe>
                <a href="https://www.youtube.com/watch?v=lcdWNmvvyew" class="download-link" target="_blank">Watch Full</a>
                <a href="https://www.khanacademy.org/science/6th-grade-science-matatag" class="khan-link" target="_blank">Khan: 6th Grade Energy & Transport</a><grok-card data-id="905908" data-type="citation_card"></grok-card>
            </div>
            <div class="resource-card" data-tags="math science">
                <h4>üìê Khan Academy Math Mastery</h4>
                <p>K-6 core math‚Äîoperations, geometry for all themes.</p>
                <a href="https://www.khanacademy.org/math" class="khan-link" target="_blank">Explore K-6 Math</a><grok-card data-id="dcb8c2" data-type="citation_card"></grok-card>
                <p>Pro Tip: Pair with space math for rocket equations!</p>
            </div>
            <div class="resource-card" data-tags="science reading">
                <h4>üî¨ Khan Science & Reading</h4>
                <p>Grade 6 science units‚Äîanimals, nature, discovery.</p>
                <a href="https://www.khanacademy.org/science/ka-science-grade-6" class="khan-link" target="_blank">Grade 6 Science Hub</a><grok-card data-id="950fce" data-type="citation_card"></grok-card>
                <p>Bonus: Reading comp in science stories!</p>
            </div>
            <div class="resource-card" data-tags="undersea dinos">
                <h4>üåä Khan Earth History</h4>
                <p>Dinos & oceans in Earth's timeline.</p>
                <a href="https://www.khanacademy.org/science/middle-school-earth-and-space-science" class="khan-link" target="_blank">Earth & Space Science</a><grok-card data-id="a8b69a" data-type="citation_card"></grok-card>
                <p>Link quizzes to fossil facts!</p>
            </div>
        </div>
    </section>

    <script>
        let selectedTheme = '';
        let quizAnswers = new Array(5).fill(-1);
        
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', (e) => {
                e.preventDefault();
                const section = e.target.dataset.section;
                showSection(section);
            });
        });
        
        function showSection(section) {
            document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
            document.getElementById(section).classList.remove('hidden');
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`[data-section="${section}"]`).classList.add('active');
            if (section === 'assessment') resetQuiz();
        }
        
        function selectTheme(theme, el) {
            selectedTheme = theme;
            document.querySelectorAll('.theme-option').forEach(t => t.classList.remove('selected'));
            el.classList.add('selected');
            updatePreview();
        }
        
        function updatePreview() {
            const grade = document.getElementById('grade').value;
            const subject = document.getElementById('subject');
            const type = document.getElementById('type');
            const difficulty = document.getElementById('difficulty').value;
            const preview = document.getElementById('preview');
            const genBtn = document.getElementById('genBtn');
            const requiredMsg = document.getElementById('requiredMsg');
            const actionBtns = document.getElementById('actionBtns');
            const previewContent = document.getElementById('preview-content');
            
            // Update descs instantly
            const subDesc = subject.selectedOptions[0]?.dataset.desc || '';
            const typeDesc = type.selectedOptions[0]?.dataset.desc || '';
            document.getElementById('subject-desc').textContent = subDesc;
            document.getElementById('type-desc').textContent = typeDesc;
            
            if (grade && subject.value && type.value && selectedTheme && difficulty) {
                genBtn.disabled = false;
                requiredMsg.style.display = 'none';
                actionBtns.classList.add('hidden');
                
                // Quick live preview gen
                let liveContent = `<h3>Quick Peek: ${type.options[type.selectedIndex].text} - ${selectedTheme.toUpperCase()} Theme (${difficulty})</h3>`;
                const themeEmoji = { space: 'üöÄ', animals: 'ü¶Å', undersea: 'üêã', dinos: 'ü¶ï', nature: 'üå≥', transport: 'üöó' }[selectedTheme] || 'üìù';
                
                if (type.value === 'math') {
                    const a = Math.floor(Math.random() * 10) + 1;
                    const b = Math.floor(Math.random() * 10) + 1;
                    liveContent += `<p>${themeEmoji} Sample: ${a} + ${b} = ? (E.g., Rocket fuel calc!)</p><div class="problem">${a} + ${b} = _____</div>`;
                } else if (type.value === 'wordsearch') {
                    liveContent += `<p>${themeEmoji} Hunt these: ROCKET, PLANET (Grid preview below)</p><div class="wordsearch-grid">R O C K E T<br>P L A N E T<br>S T A R ...</div>`;
                } else if (type.value === 'quiz') {
                    liveContent += `<div class="quiz-options-preview"><p>Sample Q: What's a ${selectedTheme} fact? A) Cool B) Epic</p><div class="quiz-option-preview">A) Cool</div><div class="quiz-option-preview">B) Epic</div></div>`;
                }
                
                preview.innerHTML = `<h2>Live Preview</h2><p>Real-time magic‚Äîtweaks update instantly!</p>${liveContent}`;
                preview.classList.add('show');
            } else {
                genBtn.disabled = true;
                requiredMsg.style.display = 'block';
                actionBtns.classList.add('hidden');
                preview.innerHTML = '<h2>Live Preview</h2><p>Update fields to see your worksheet take shape‚Äîinstant text magic!</p><div id="preview-content"></div>';
                preview.classList.remove('show');
            }
        }
        
        function generateWorksheet() {
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
            
            const grade = document.getElementById('grade').value;
            const subject = document.getElementById('subject').value;
            const type = document.getElementById('type').value;
            const theme = selectedTheme;
            const difficulty = document.getElementById('difficulty').value;
            const themeEmoji = { space: 'üöÄ', animals: 'ü¶Å', undersea: 'üêã', dinos: 'ü¶ï', nature: 'üå≥', transport: 'üöó' }[theme] || 'üìù';
            const num = difficulty === 'easy' ? 5 : difficulty === 'medium' ? 8 : 10;
            
            let content = `<h1>${theme.toUpperCase()} ${type.toUpperCase()} Worksheet ${themeEmoji}</h1><p>Grade: ${grade} | Subject: ${subject} | Level: ${difficulty}</p>`;
            
            if (type === 'math' || subject === 'math') {
                const maxNum = difficulty === 'easy' ? 10 : difficulty === 'medium' ? 20 : 50;
                const ops = difficulty === 'easy' ? ['+'] : difficulty === 'medium' ? ['+', '-'] : ['+', '-', '*', '/'];
                let problems = [];
                for (let i = 0; i < num; i++) {
                    const a = Math.floor(Math.random() * maxNum) + 1;
                    const b = Math.floor(Math.random() * maxNum) + 1;
                    const op = ops[Math.floor(Math.random() * ops.length)];
                    const result = op === '+' ? a + b : op === '-' ? a - b : op === '*' ? a * b : Math.floor(a / b);
                    const themeTie = theme === 'space' ? ' (Rocket fuel! üöÄ)' : theme === 'animals' ? ' (Pack hunt! ü¶Å)' : theme === 'undersea' ? ' (Deep dive! üêã)' : theme === 'dinos' ? ' (Fossil dig! ü¶ï)' : theme === 'nature' ? ' (Trail count! üå≥)' : ' (Road race! üöó)';
                    problems.push(`${i+1}. ${a} ${op} ${b}
